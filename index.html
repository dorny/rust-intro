<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="keywords" content="TypeScript">
    <meta name="author" content="Michal Dorner">

    <title>The Rust programming language</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/dorny.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">

            <section data-markdown>
                <script type="text/template">
                    # The Rust programming language

                    [@dorny](http://github.com/dorny)

                    Slides: [https://dorny.github.io/rust-intro](https://dorny.github.io/rust-intro/)
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Background and Motivation
                    * Grew out of a personal project by Mozilla employee Graydon Hoare
                    * Mozilla began sponsoring the project in 2009
                    * Motivation were real life issues with C++:
                        * security bugs
                        * data races
                        * complexity of the language and codebase
                </script>
            </section>

            <section>
                <h2>What is Rust?</h2>
                <ul>
                    <li class="fragment">Alternative to C and C++</li>
                    <li class="fragment">Focused on system programming</li>
                    <li class="fragment">Three main goals:
                        <ul>
                            <li>safety</li>
                            <li>speed</li>
                            <li>concurrency</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Rust includes:
                    * Compilation to native code (using LLVM)
                    * Automatic resource management (without GC)
                    * _Trait_ type system instead of OOP
                    * and more...
                </script>
            </section>

            <section>
                <h2>Why use Rust?</h2>
                <ul>
                    <li class="fragment">Fast code, low memory footprint</li>
                    <li class="fragment">Go from bare metal (assembly; C FFI) ...</li>
                    <li class="fragment">... to high-level (collections, closures, generic containers)</li>
                    <li class="fragment">With zero cost (no GC, unboxed closures, monomorphization of generics)</li>
                    <li class="fragment">Safety:
                        <ul>
                            <li>No segmentation faults</li>
                            <li>No undefined behavior</li>
                            <li>No data races</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section>
                <h2>Where is Rust now?</h2>
                <ul>
                    <li><p>1.0 release was back in May 2015</p></li>
                    <li><p>Rolling release cycle</p></li>
                    <li><p>Open source from the begining <code>https://github.com/rust-lang/rust/</code></p></li>
                    <li><p>Open model for future change (RFC process) <code>https://github.com/rust-lang/rfcs/</code></p></li>
                    <li>
                        Awesome developer community:
                        <ul>
                            <li>~1,500 unique commiters to <span><code>rust.git</code></span></li>
                            <li>~1,000 people in <span><code>#rust</code></span></li>
                            <li>~250 people in <span><code>#rust-internals</code></span></li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## System programming
                    ### vs.
                    ## Application Programming
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## Application Programming
                    * Concerned with high-level topics
                    * Solves problems of interest to humans
                    * Often done in languages like C# or Java that free the programmer from low-level worries but have big fat runtime systems
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## System programming
                    * Controls and manages computer systems
                    * Deals with writing device drivers and operating systems, or directly uses them
                    * Extremely small run-time images, they often have to run in resource constrained environments
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ## What does matter in System programming?
                    * Stack vs. Heap
                    * Memory layout
                    * Static vs. Dynamic dispatch
                    * Deterministic memory management
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                "It has essentially the same performance as C++ for low-level fragments of code, but better support in the language and standard library for stitching these low-level fragments into higher level constructs that match the semantics of the problem being solved."

                [Raph Levien](https://medium.com/@raphlinus) on ["Inside the fastest font renderer in the world"](https://medium.com/@raphlinus/inside-the-fastest-font-renderer-in-the-world-75ae5270c445#.85n5scyu4).
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Rust compilation process
                    ![rust compilation flow](img/compilation.svg)
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # Resource management
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Destructors

                    * Rust provides automatic destructors through the _Drop_ trait:

                    ``` rust
                        pub trait Drop {
                           fn drop(&mut self);
                        }
                    ```

                    * _drop_ is called automatically when an object goes out of scope.
                    * After _drop_ is run, Rust will recursively try to drop all of the fields of self.
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ### If a struct has no special logic for being dropped other than dropping its children, then it means Drop doesn't need to be implemented at all
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Custom implementation of Drop

                    ``` rust
                        struct Resource{
                            name: &'static str,
                        }

                        impl Drop for Resource {
                            fn drop(&mut self) {
                                println!("> Dropping: {}", self.name);
                            }
                        }
                    ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ### Stack

                    ``` rust
                        fn resource_on_stack() {

                            let r1 = Resource { name: "r1" };
                            {
                                let r2 = Resource { name: "r2" };
                                // Prints:  > Dropping: r2
                            }

                            // Prints:  > Dropping: r1
                        }
                    ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ### Heap

                    ``` rust
                        fn resource_on_stack() {

                            let r1 = box Resource { name: "r1" };
                            {
                                let r2 = box Resource { name: "r2" };
                                // Prints:  > Dropping: r2
                            }

                            // Prints:  > Dropping: r1
                        }
                    ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Clone, Copy and Move
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Copy

                    * Types that can be copied by simply copying bits
                    * A type can implement Copy if all of its components implement Copy
                    * Rust does not allow you to reimplement Copy
                    * We can just derive a `Copy` implementation
                        ``` rust
                        #[derive(Copy, Clone)]
                        struct Foo;
                        ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Clone

                    * Common trait for the ability to explicitly duplicate an object
                    * Differs from Copy in that Copy is implicit and extremely inexpensive, while Clone is always explicit and may or may not be expensive
                    * Rust does not allow you to reimplement Copy, but you may reimplement Clone and run arbitrary code
                    * Can be used with #[derive] if all fields are Clone
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Move semantics
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Move semantics in C++

                    ``` c++
                        template <typename T>
                        class vector {
                            T * _data;
                            int _length;
                        public:
                            vector(vector && tmp)    // move constructor ->
                            : _data(tmp._data)       //     steal _data
                            , _length(tmp._length)   //     steal _length
                            {
                                tmp._data = nullptr; //     clear _data
                                tmp._length = 0;     //     clear _length
                            }
                            // ...
                        }
                    ```
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Move semantics in C++

                    * Need to be explicitly implemented
                    * Destrucor on _rvalue reference_ is still executed
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Move semantics in Rust

                    * Default behavior
                    * Rust moves everything that does not implement the Copy trait.
                    * Destrucor on _moved_ value will be not executed
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Owerenship, References and Borrowing
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Runtime reference counting
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                "Rust is like doing parkour while suspended on strings & wearing protective gear. Yes, it will sometimes look a little ridiculous, but you'll be able to do all sorts of cool moves without hurting yourself."

                [llogiq](https://www.reddit.com/user/llogiq) on [reddit](https://www.reddit.com/r/rust/comments/4l44z3/why_should_i_use_rust/d3k7ayi).
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    # Abstractions
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Enums

                    An enum in Rust is a type that represents data that is one of several possible variants. Each variant in the enum can optionally have data associated with it.
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Pattern matching

                    _match_ takes an expression and then branches based on its value. Each ‘arm’ of the branch is of the form val => expression. When the value matches, that arm’s expression will be evaluated.
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Traits
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Generics
                </script>
            </section>

            <section data-markdown>
                <script type="text/template">
                    ## Macros
                </script>
            </section>

            <section>
                <h3>Thanks</h3>
                <img class="logo" src="img/rust-logo-blk.svg" alt="Rust logo" width="50%" height="auto" />
                <p><a href="www.rust-lang.org">www.rust-lang.org</a></p>
            </section>

        </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
            // More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
                transition: 'none',

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});

            var themes = [
                'beige',
                'black',
                'blood',
                'dorny',
                'league',
                'moon',
                'night',
                'serif',
                'simple',
                'sky',
                'solarized',
                'white'
            ];

            var themesPath = 'css/theme/';

            // Hack for live theme changing
            document.addEventListener("keypress", function(event){
                if (event.key != 't') return;

                // loop over themes
                themes.push(themes.shift());

                // set current theme
                document.getElementById('theme').setAttribute('href','css/theme/'+themes[0]+'.css')

                return false;
            });
    </script>
</body>

</html>